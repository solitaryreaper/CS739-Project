@(activePaintRooms : List[models.PaintRoom])

@main(title = "Collaborative Drawing Editor") {

	<div id="sessions" class="container">
	
		<legend>Active sessions ..</legend>
		<!-- List of active paint room sessions -->
		<form id="existing_session_form" method="post" class="form-horizontal container" action="@routes.Canvas.index()">
		  	<input type="text" class="input-large" id="session_name" name="session_name" placeholder="Select a session name .."> 		
			<table class="table table-striped table-bordered table-condensed">
				<thead>
					<tr>
						<th>PaintRoom</th>
						<th>Action</th>
					</tr>
				</thead>
				<tbody>
	                @if(activePaintRooms == null || activePaintRooms.isEmpty()) {
	                    <tr><th colspan="2" align="center">No active paint rooms found !! </th></tr>
	                }
	                
	                @if(activePaintRooms != null && !activePaintRooms.isEmpty()) {
	                    @for(paintRoom <- activePaintRooms) {
	                        <tr>
	                            <td>@paintRoom.getName()</td>
	                            <td><button id="@paintRoom.getName()" name="@paintRoom.getName()" value="@paintRoom.getName()" type="submit" class="btn btn-success">Join</button></td>
	                       </tr>
	                    }
	                }				
				</tbody>
			</table>
		</form>
		
		<!-- Form for creating a new paintroom session -->
		<form id="new_session_form" method="post" class="form-inline" action="@routes.Canvas.index()">
			<legend>Create your session</legend>
		  	<input type="text" class="input-large" id="session_name" name="session_name" placeholder="Enter a new session name ..">  
		  	<button type="submit" id="launch_session" class="btn btn-danger">Launch</button>  
		</form>
		
	</div>
	
	<script type="text/javascript">           
	$(document).ready(function() {
		// HACK : To capture the value of the session to join via a clickable button, this hidden
		// element has been created. 
		$("#session_name").hide();
		
		// Get the active session which user wants to join ..
	    $(".btn-success").click(function(){
	    	var buttonValue = $(this).attr("value");
	    	$('#session_name').val(buttonValue);
	    }); 
	});
	</script>	
}